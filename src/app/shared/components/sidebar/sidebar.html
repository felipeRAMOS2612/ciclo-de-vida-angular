<mat-sidenav-container class="layout">
  <!-- Sidenav (sidebar lateral) -->
  <mat-sidenav 
    #sidenav 
    position="start" 
    mode="over" 
    class="sidenav"
    [opened]="sidenavOpened">
    
    <!-- Encabezado del sidebar -->
    <div class="sidenav__header">
      <h3>Panel de Control</h3>
      <button mat-icon-button (click)="toggleSidenav()" class="close-btn">
        <mat-icon>close</mat-icon>
      </button>
    </div>

    <!-- Navegación principal -->
    <mat-nav-list class="sidenav__nav">
      <a mat-list-item 
         routerLink="/auth/dashboard" 
         routerLinkActive="active"
         (click)="closeSidenavOnMobile()">
        <mat-icon matListItemIcon>dashboard</mat-icon>
        <span matListItemTitle>Dashboard</span>
      </a>
      
      <a mat-list-item 
         routerLink="/auth/eventos" 
         routerLinkActive="active"
         (click)="closeSidenavOnMobile()">
        <mat-icon matListItemIcon>event</mat-icon>
        <span matListItemTitle>Eventos</span>
      </a>
      
      <a mat-list-item 
         routerLink="/auth/perfil" 
         routerLinkActive="active"
         (click)="closeSidenavOnMobile()">
        <mat-icon matListItemIcon>person</mat-icon>
        <span matListItemTitle>Perfil</span>
      </a>
    </mat-nav-list>

    <!-- Footer del sidebar -->
    <div class="sidenav__footer">
      <!-- Botón de cambio de tema -->
      <button mat-icon-button 
              [matMenuTriggerFor]="themeMenu" 
              aria-label="Cambiar tema"
              class="theme-btn">
        <mat-icon>{{ themeService.selectedTheme()?.icon }}</mat-icon>
      </button>

      <!-- Botón de logout -->
      <button mat-icon-button 
              (click)="logout()" 
              aria-label="Cerrar sesión"
              class="logout-btn">
        <mat-icon>logout</mat-icon>
      </button>

      <!-- Menú de temas -->
      <mat-menu #themeMenu="matMenu">
        @for (theme of themeService.getThemes(); track theme.name) {
          <button
            mat-menu-item
            [class.selected-theme]="themeService.selectedTheme()?.name === theme.name"
            (click)="themeService.setTheme(theme.name)"
          >
            <mat-icon>{{ theme.icon }}</mat-icon>
            <span>{{ theme.name | titlecase }}</span>
          </button>
        }
      </mat-menu>
    </div>
  </mat-sidenav>

  <!-- Contenido principal -->
  <mat-sidenav-content class="layout__content">
    <!-- Toolbar con botón hamburguesa -->
    <mat-toolbar class="toolbar">
      <button mat-icon-button 
              (click)="toggleSidenav()" 
              aria-label="Abrir menú"
              class="menu-btn">
        <mat-icon>menu</mat-icon>
      </button>
      
      <span class="toolbar__title">Mi Aplicación</span>
      
      <!-- Spacer para empujar elementos a la derecha -->
      <span class="toolbar__spacer"></span>
      
      <!-- Acciones del toolbar (opcional) -->
      <button mat-icon-button aria-label="Notificaciones">
        <mat-icon>notifications</mat-icon>
      </button>
    </mat-toolbar>
  </mat-sidenav-content>
</mat-sidenav-container>